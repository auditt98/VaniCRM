(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-516974f9"],{1031:function(t,e,a){},"1e64":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("5530"),s=(a("d3b7"),a("99af"),a("a078")),i=a("57c3"),r=a("40d9"),c=a("bb4d"),o=a("df6c"),l={getAll:d,create:g,update:b,getById:f,remove:p,changeAvatar:C,createNote:y,createTag:k,removeNote:v,removeTag:m,loadTasks:u,loadAllObject:h};function u(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(e,"/tasks?").concat(Object(s["c"])(t)),i["a"].get()).then(r["a"]).then((function(t){return t}),(function(a){if("retry"==a)return Object(o["a"])("".concat(s["d"].apiUrl,"/contacts/").concat(e,"/tasks?").concat(Object(s["c"])(t)),i["a"].get(),2).then(r["a"])}))}function d(t){return fetch("".concat(s["d"].apiUrl,"/contacts?").concat(Object(s["c"])(t)),i["a"].get()).then(r["a"]).then((function(t){return t}),(function(e){if("retry"==e)return Object(o["a"])("".concat(s["d"].apiUrl,"/contacts?").concat(Object(s["c"])(t)),i["a"].get(),2).then(r["a"])}))}function g(t){return fetch("".concat(s["d"].apiUrl,"/contacts"),i["a"].post(t)).then(r["a"])}function p(t){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(t),i["a"].delete()).then(r["a"])}function f(t){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(t),i["a"].get()).then(r["a"]).then((function(t){return t}),(function(e){if("retry"==e)return Object(o["a"])("".concat(s["d"].apiUrl,"/contacts/").concat(t),i["a"].get(),2).then(r["a"])}))}function h(){return fetch("".concat(s["d"].apiUrl,"/contacts/prepare"),i["a"].get()).then(r["a"]).then((function(t){return t}),(function(t){if("retry"==t)return Object(o["a"])("".concat(s["d"].apiUrl,"/contacts/prepare"),i["a"].get(),2).then(r["a"])}))}function b(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(e),i["a"].post(t)).then(r["a"])}function C(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(e,"/change_avatar"),Object(n["a"])(Object(n["a"])({method:"POST"},P()),{},{body:t})).then(r["a"])}function y(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(e,"/notes"),Object(n["a"])(Object(n["a"])({method:"POST"},P()),{},{body:t})).then(r["a"])}function k(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(e,"/tags"),i["a"].post(t)).then(r["a"])}function v(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(t,"/notes/").concat(e),i["a"].delete()).then(r["a"])}function m(t,e){return fetch("".concat(s["d"].apiUrl,"/contacts/").concat(t,"/tags/").concat(e),i["a"].delete()).then(r["a"])}function P(){var t=c["a"].currentUserValue||{},e=t.jwt?{Authorization:t.jwt}:{};return{headers:Object(n["a"])({},e)}}},"436b":function(t,e,a){},4528:function(t,e,a){},"78b7":function(t,e,a){},"83ed":function(t,e,a){"use strict";a("8727")},8727:function(t,e,a){},"99af":function(t,e,a){"use strict";var n=a("23e7"),s=a("d039"),i=a("e8b5"),r=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),g=a("b622"),p=a("2d00"),f=g("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",C=p>=51||!s((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),y=d("concat"),k=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:i(t)},v=!C||!y;n({target:"Array",proto:!0,forced:v},{concat:function(t){var e,a,n,s,i,r=c(this),d=u(r,0),g=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?r:arguments[e],k(i)){if(s=o(i.length),g+s>h)throw TypeError(b);for(a=0;a<s;a++,g++)a in i&&l(d,g,i[a])}else{if(g>=h)throw TypeError(b);l(d,g++,i)}return d.length=g,d}})},a179:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn ",class:t.data.btnClass},[t.data.icon?a("i",{staticClass:"fa mr-2",class:t.data.icon}):t._e(),t._v(" "+t._s(t.data.text)+" ")])},s=[],i={name:"VButton",props:{data:Object}},r=i,c=(a("83ed"),a("2877")),o=Object(c["a"])(r,n,s,!1,null,"45fa8bba",null);e["a"]=o.exports},acdd:function(t,e,a){"use strict";a("436b")},add3:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"form-group col-md-4 input-group mb-3 pl-0"},[n("div",{staticClass:"btn-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),n("i",{staticClass:"fa fa-search"})])]),n("div",{staticClass:"col-sm-4"},[n("button",{staticClass:"btn btn-light btn-purple mr-3",on:{click:function(e){return t.search()}}},[n("i",{staticClass:"fa fa-search mr-2"}),t._v(" Search ")]),n("button",{staticClass:"btn btn-light btn-purple",class:{"btn-disable":!t.keyword},on:{click:function(e){return t.clear()}}},[n("img",{staticClass:"mr-1",attrs:{width:"22",src:a("ee35"),alt:""}}),t._v(" Clear ")])]),n("div",{staticClass:"col-sm-4 text-right"},[t._t("button")],2)]),n("div",{staticClass:"row table-in-list border"},[n("table",{staticClass:"table mb-0"},[n("thead",[t.headerColumns?n("tr",t._l(t.headerColumns,(function(e,a){return n("th",{key:a,style:e.style,attrs:{scope:"col"}},[t._v(t._s(e.text))])})),0):t._e()]),t._t("body")],2),t.totalPage?n("div",{staticClass:"row justify-content-between w-100 mr-0 ml-0 mb-4 border-top pt-4 pl-4"},[n("div",{staticClass:"col-sm-4 p-0"},[n("div",{staticClass:"form-inline"},[n("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Rows per page:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"form-control py-0 ml-3",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.size=e.target.multiple?a:a[0]},function(e){return t.onChange(e)}]}},[n("option",{domProps:{value:5}},[t._v("5")]),n("option",{domProps:{value:10}},[t._v("10")])])])]),t.totalPage>0?n("div",{staticClass:"col-sm-4 text-right table-pagination pr-4"},[n("VPagination",{attrs:{"page-count":t.totalPage,"page-range":t.pageSize,"margin-pages":5,"click-handler":t.goToPage,"prev-text":"<","next-text":">","container-class":"pagination","page-class":"page-item"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e()]):t._e()])])},s=[],i=(a("a9e3"),a("841c"),a("ac1f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.noLiSurround?a("div",{class:t.containerClass},[t.firstLastButton?a("a",{class:[t.pageLinkClass,t.firstPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.firstButtonText)},on:{click:function(e){return t.selectFirstPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectFirstPage()}}}):t._e(),t.firstPageSelected()&&t.hidePrevNext?t._e():a("a",{class:[t.prevLinkClass,t.firstPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.prevText)},on:{click:function(e){return t.prevPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.prevPage()}}}),t._l(t.pages,(function(e,n){return[e.breakView?a("a",{key:n,class:[t.pageLinkClass,t.breakViewLinkClass,e.disabled?t.disabledClass:""],attrs:{tabindex:"0"}},[t._t("breakViewContent",[t._v(t._s(t.breakViewText))])],2):e.disabled?a("a",{key:n,class:[t.pageLinkClass,e.selected?t.activeClass:"",t.disabledClass],attrs:{tabindex:"0"}},[t._v(t._s(e.content))]):a("a",{key:n,class:[t.pageLinkClass,e.selected?t.activeClass:""],attrs:{tabindex:"0"},on:{click:function(a){return t.handlePageSelected(e.index+1)},keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handlePageSelected(e.index+1)}}},[t._v(t._s(e.content))])]})),t.lastPageSelected()&&t.hidePrevNext?t._e():a("a",{class:[t.nextLinkClass,t.lastPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.nextText)},on:{click:function(e){return t.nextPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextPage()}}}),t.firstLastButton?a("a",{class:[t.pageLinkClass,t.lastPageSelected()?t.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:t._s(t.lastButtonText)},on:{click:function(e){return t.selectLastPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectLastPage()}}}):t._e()],2):a("ul",{class:t.containerClass},[t.firstLastButton?a("li",{class:[t.pageClass,t.firstPageSelected()?t.disabledClass:""]},[a("a",{class:t.pageLinkClass,attrs:{tabindex:t.firstPageSelected()?-1:0},domProps:{innerHTML:t._s(t.firstButtonText)},on:{click:function(e){return t.selectFirstPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectFirstPage()}}})]):t._e(),t.firstPageSelected()&&t.hidePrevNext?t._e():a("li",{class:[t.prevClass,t.firstPageSelected()?t.disabledClass:""]},[a("a",{class:t.prevLinkClass,attrs:{tabindex:t.firstPageSelected()?-1:0},domProps:{innerHTML:t._s(t.prevText)},on:{click:function(e){return t.prevPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.prevPage()}}})]),t._l(t.pages,(function(e,n){return a("li",{key:n,class:[t.pageClass,e.selected?t.activeClass:"",e.disabled?t.disabledClass:"",e.breakView?t.breakViewClass:""]},[e.breakView?a("a",{class:[t.pageLinkClass,t.breakViewLinkClass],attrs:{tabindex:"0"}},[t._t("breakViewContent",[t._v(t._s(t.breakViewText))])],2):e.disabled?a("a",{class:t.pageLinkClass,attrs:{tabindex:"0"}},[t._v(t._s(e.content))]):a("a",{class:t.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(a){return t.handlePageSelected(e.index+1)},keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handlePageSelected(e.index+1)}}},[t._v(t._s(e.content))])])})),t.lastPageSelected()&&t.hidePrevNext?t._e():a("li",{class:[t.nextClass,t.lastPageSelected()?t.disabledClass:""]},[a("a",{class:t.nextLinkClass,attrs:{tabindex:t.lastPageSelected()?-1:0},domProps:{innerHTML:t._s(t.nextText)},on:{click:function(e){return t.nextPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.nextPage()}}})]),t.firstLastButton?a("li",{class:[t.pageClass,t.lastPageSelected()?t.disabledClass:""]},[a("a",{class:t.pageLinkClass,attrs:{tabindex:t.lastPageSelected()?-1:0},domProps:{innerHTML:t._s(t.lastButtonText)},on:{click:function(e){return t.selectLastPage()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectLastPage()}}})]):t._e()],2)}),r=[],c={name:"VPagination",props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(t){this.innerValue=t}},pages:function(){var t=this,e={};if(this.pageCount<=this.pageRange)for(var a=0;a<this.pageCount;a++){var n={index:a,content:a+1,selected:a===this.selected-1};e[a]=n}else{for(var s=Math.floor(this.pageRange/2),i=function(a){var n={index:a,content:a+1,selected:a===t.selected-1};e[a]=n},r=function(t){var a={disabled:!0,breakView:!0};e[t]=a},c=0;c<this.marginPages;c++)i(c);var o=0;this.selected-s>0&&(o=this.selected-1-s);var l=o+this.pageRange-1;l>=this.pageCount&&(l=this.pageCount-1,o=l-this.pageRange+1);for(var u=o;u<=l&&u<=this.pageCount-1;u++)i(u);o>this.marginPages&&r(o-1),l+1<this.pageCount-this.marginPages&&r(l+1);for(var d=this.pageCount-1;d>=this.pageCount-this.marginPages;d--)i(d)}return e}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(t){this.selected!==t&&(this.innerValue=t,this.$emit("input",t),this.clickHandler(t))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}},o=c,l=(a("c59d"),a("2877")),u=Object(l["a"])(o,i,r,!1,null,"38bc094c",null),d=u.exports,g={name:"TableInList",components:{VPagination:d},data:function(){return{currentPage:1,size:5,keyword:""}},props:{totalPage:Number,pageSize:Number,headerColumns:{type:Array,required:!1}},created:function(){this.size=this.pageSize},methods:{goToPage:function(t){this.currentPage=t,this.$emit("go-to-page",t)},search:function(){this.currentPage=1,this.$emit("search",this.keyword,this.size)},clear:function(){this.keyword=null,this.size=this.pageSize,this.search()},onChange:function(t){this.size=t.target.value,this.search()}}},p=g,f=(a("acdd"),Object(l["a"])(p,n,s,!1,null,"f6daca98",null));e["a"]=f.exports},afa6:function(t,e,a){"use strict";a("1031")},c59d:function(t,e,a){"use strict";a("78b7")},cd9e:function(t,e,a){"use strict";a("4528")},d313:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-main"},[a("VLoading",{attrs:{loading:t.loading}}),a("div",{staticClass:"col-sm-10 mx-auto mt-5"},[a("TableInList",{attrs:{"header-columns":t.columns,"page-size":t.pageSize,"total-page":t.totalPage},on:{"go-to-page":t.goToPage,search:t.search}},[a("template",{slot:"button"},[a("router-link",{attrs:{to:{name:"ContactCreate"}}},[a("VButton",{attrs:{data:t.btnCreate}})],1)],1),a("template",{slot:"body"},[t.contacts&&0!==t.contacts.length?t._e():a("tbody",[a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"6"}},[t._v("Không có dữ liệu")])])]),t.contacts&&t.contacts.length>0?a("tbody",t._l(t.contacts,(function(e,n){return a("tr",{key:n},[a("th",[a("img",{staticStyle:{width:"60px",height:"60px","border-radius":"50%"},attrs:{src:e.avatar}})]),a("th",[t._v(t._s(e.contactName))]),a("th",[t._v(t._s(e.accountName))]),a("th",[t._v(t._s(e.phone))]),a("th",[t._v(t._s(e.email))]),a("th",[t._v(t._s(e.owner))]),a("th",[a("span",{staticClass:"action"},[a("span",{staticClass:"mr-1",on:{click:function(a){return t.editContact(e.id)}}},[a("img",{attrs:{src:"images/newspaper-line.png",alt:""}})]),a("span",{on:{click:function(a){return t.deleteContact(e.id)}}},[a("img",{attrs:{src:"images/delete-bin-2-line.png",alt:""}})])])])])})),0):t._e()])],2)],1)],1)},s=[],i=(a("a9e3"),a("d3b7"),a("add3")),r=a("a179"),c=a("e118"),o=a("1e64"),l={name:"UserList",components:{VLoading:c["a"],VButton:r["a"],TableInList:i["a"]},methods:{goToPage:function(t){this.currentPage=t,this.loadContacts(this.keyword)},search:function(t,e){this.currentPage=1,this.pageSize=Number(e),this.loadContacts(t)},deleteContact:function(t){var e=this;confirm("Xác nhận xóa!")&&(this.loading=!0,o["a"].remove(t).then((function(t){t&&(alert("Xóa thành công!"),e.loadContacts(e.keyword))})).finally((function(){e.loading=!1})))},loadContacts:function(t){var e=this;this.loading=!0,this.keyword=t,this.contacts=[];var a={currentPage:this.currentPage,pageSize:this.pageSize};t&&(a["query"]=this.keyword),o["a"].getAll(a).then((function(t){t&&(e.contacts=t.data.contacts,e.totalPage=Number(t.data.pageInfo.TotalPages))})).finally((function(){e.loading=!1}))},editContact:function(t){this.$router.push({path:"/contacts/detail",query:{id:t}})}},created:function(){this.currentPage=1,this.pageSize=5,this.loadContacts(null)},data:function(){return{contacts:Array,currentPage:Number,pageSize:Number,totalPage:1,keyword:null,loading:!1,columns:[{text:"Avatar",style:"width: 5%;"},{text:"Contact Name",style:"width: 20%"},{text:"Account Name",style:"width: 20%"},{text:"Phone",style:"width: 10%"},{text:"Email",style:"width: 15%"},{text:"Account Owner",style:"width: 15%"},{text:"Actions",style:"width: 15%"}],btnCreate:{btnClass:"btn-red px-4",icon:"fa-plus",text:"Create Contact"}}}},u=l,d=(a("cd9e"),a("2877")),g=Object(d["a"])(u,n,s,!1,null,"96bf9faa",null);e["default"]=g.exports},df6c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("d3b7");function n(t,e,a){return fetch(t,e).catch((function(s){if(1===a)throw s;return n(t,e,a-1)}))}},e118:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("div",{staticClass:"loading"},[t._m(0)]):t._e()])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lds-facebook"},[a("div"),a("div"),a("div")])}],i={name:"VLoading",props:{loading:Boolean}},r=i,c=(a("afa6"),a("2877")),o=Object(c["a"])(r,n,s,!1,null,"52be6f57",null);e["a"]=o.exports},ee35:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACMSURBVHgB7dJbDYUwEATQ6c0VgAQk4ICgAAlgBSVYwQIOwAEOluGXV2iySSGZ87NJ0/cOICKSWHgyycxqlgIOQggdYvECvTnZ7/2DJHYZQrYrZynhY2D45qgVvEBrfpqrc5KH8K4FGUsGHwtbsOCNDj/Al3sFb3v1iFjmp39yXvIQ/k/GKviYICLyBSuf0/lJwVt1hwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-516974f9.44b3bd18.js.map