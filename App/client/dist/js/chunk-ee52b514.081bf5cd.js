(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee52b514"],{"0ce5":function(e,t,a){},1031:function(e,t,a){},"436b":function(e,t,a){},"78b7":function(e,t,a){},"83ed":function(e,t,a){"use strict";a("8727")},8727:function(e,t,a){},"99af":function(e,t,a){"use strict";var n=a("23e7"),s=a("d039"),i=a("e8b5"),c=a("861d"),r=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),g=a("b622"),f=a("2d00"),p=g("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",y=f>=51||!s((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),k=d("concat"),v=function(e){if(!c(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)},C=!y||!k;n({target:"Array",proto:!0,forced:C},{concat:function(e){var t,a,n,s,i,c=r(this),d=u(c,0),g=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?c:arguments[t],v(i)){if(s=o(i.length),g+s>h)throw TypeError(b);for(a=0;a<s;a++,g++)a in i&&l(d,g,i[a])}else{if(g>=h)throw TypeError(b);l(d,g++,i)}return d.length=g,d}})},a179:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn ",class:e.data.btnClass},[e.data.icon?a("i",{staticClass:"fa mr-2",class:e.data.icon}):e._e(),e._v(" "+e._s(e.data.text)+" ")])},s=[],i={name:"VButton",props:{data:Object}},c=i,r=(a("83ed"),a("2877")),o=Object(r["a"])(c,n,s,!1,null,"45fa8bba",null);t["a"]=o.exports},acdd:function(e,t,a){"use strict";a("436b")},add3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"form-group col-md-4 input-group mb-3 pl-0"},[n("div",{staticClass:"btn-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),n("i",{staticClass:"fa fa-search"})])]),n("div",{staticClass:"col-sm-4"},[n("button",{staticClass:"btn btn-light btn-purple mr-3",on:{click:function(t){return e.search()}}},[n("i",{staticClass:"fa fa-search mr-2"}),e._v(" Search ")]),n("button",{staticClass:"btn btn-light btn-purple",class:{"btn-disable":!e.keyword},on:{click:function(t){return e.clear()}}},[n("img",{staticClass:"mr-1",attrs:{width:"22",src:a("ee35"),alt:""}}),e._v(" Clear ")])]),n("div",{staticClass:"col-sm-4 text-right"},[e._t("button")],2)]),n("div",{staticClass:"row table-in-list border"},[n("table",{staticClass:"table mb-0"},[n("thead",[e.headerColumns?n("tr",e._l(e.headerColumns,(function(t,a){return n("th",{key:a,style:t.style,attrs:{scope:"col"}},[e._v(e._s(t.text))])})),0):e._e()]),e._t("body")],2),e.totalPage?n("div",{staticClass:"row justify-content-between w-100 mr-0 ml-0 mb-4 border-top pt-4 pl-4"},[n("div",{staticClass:"col-sm-4 p-0"},[n("div",{staticClass:"form-inline"},[n("label",{attrs:{for:"exampleFormControlSelect1"}},[e._v("Rows per page:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.size,expression:"size"}],staticClass:"form-control py-0 ml-3",attrs:{id:"exampleFormControlSelect1"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.size=t.target.multiple?a:a[0]},function(t){return e.onChange(t)}]}},[n("option",{domProps:{value:5}},[e._v("5")]),n("option",{domProps:{value:10}},[e._v("10")])])])]),e.totalPage>0?n("div",{staticClass:"col-sm-4 text-right table-pagination pr-4"},[n("VPagination",{attrs:{"page-count":e.totalPage,"page-range":e.pageSize,"margin-pages":5,"click-handler":e.goToPage,"prev-text":"<","next-text":">","container-class":"pagination","page-class":"page-item"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()]):e._e()])])},s=[],i=(a("a9e3"),a("841c"),a("ac1f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noLiSurround?a("div",{class:e.containerClass},[e.firstLastButton?a("a",{class:[e.pageLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){return e.selectFirstPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectFirstPage()}}}):e._e(),e.firstPageSelected()&&e.hidePrevNext?e._e():a("a",{class:[e.prevLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){return e.prevPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevPage()}}}),e._l(e.pages,(function(t,n){return[t.breakView?a("a",{key:n,class:[e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?a("a",{key:n,class:[e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass],attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):a("a",{key:n,class:[e.pageLinkClass,t.selected?e.activeClass:""],attrs:{tabindex:"0"},on:{click:function(a){return e.handlePageSelected(t.index+1)},keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handlePageSelected(t.index+1)}}},[e._v(e._s(t.content))])]})),e.lastPageSelected()&&e.hidePrevNext?e._e():a("a",{class:[e.nextLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){return e.nextPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextPage()}}}),e.firstLastButton?a("a",{class:[e.pageLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){return e.selectLastPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectLastPage()}}}):e._e()],2):a("ul",{class:e.containerClass},[e.firstLastButton?a("li",{class:[e.pageClass,e.firstPageSelected()?e.disabledClass:""]},[a("a",{class:e.pageLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){return e.selectFirstPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectFirstPage()}}})]):e._e(),e.firstPageSelected()&&e.hidePrevNext?e._e():a("li",{class:[e.prevClass,e.firstPageSelected()?e.disabledClass:""]},[a("a",{class:e.prevLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){return e.prevPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.prevPage()}}})]),e._l(e.pages,(function(t,n){return a("li",{key:n,class:[e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""]},[t.breakView?a("a",{class:[e.pageLinkClass,e.breakViewLinkClass],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?a("a",{class:e.pageLinkClass,attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):a("a",{class:e.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(a){return e.handlePageSelected(t.index+1)},keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handlePageSelected(t.index+1)}}},[e._v(e._s(t.content))])])})),e.lastPageSelected()&&e.hidePrevNext?e._e():a("li",{class:[e.nextClass,e.lastPageSelected()?e.disabledClass:""]},[a("a",{class:e.nextLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){return e.nextPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextPage()}}})]),e.firstLastButton?a("li",{class:[e.pageClass,e.lastPageSelected()?e.disabledClass:""]},[a("a",{class:e.pageLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){return e.selectLastPage()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectLastPage()}}})]):e._e()],2)}),c=[],r={name:"VPagination",props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){var e=this,t={};if(this.pageCount<=this.pageRange)for(var a=0;a<this.pageCount;a++){var n={index:a,content:a+1,selected:a===this.selected-1};t[a]=n}else{for(var s=Math.floor(this.pageRange/2),i=function(a){var n={index:a,content:a+1,selected:a===e.selected-1};t[a]=n},c=function(e){var a={disabled:!0,breakView:!0};t[e]=a},r=0;r<this.marginPages;r++)i(r);var o=0;this.selected-s>0&&(o=this.selected-1-s);var l=o+this.pageRange-1;l>=this.pageCount&&(l=this.pageCount-1,o=l-this.pageRange+1);for(var u=o;u<=l&&u<=this.pageCount-1;u++)i(u);o>this.marginPages&&c(o-1),l+1<this.pageCount-this.marginPages&&c(l+1);for(var d=this.pageCount-1;d>=this.pageCount-this.marginPages;d--)i(d)}return t}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(e){this.selected!==e&&(this.innerValue=e,this.$emit("input",e),this.clickHandler(e))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}},o=r,l=(a("c59d"),a("2877")),u=Object(l["a"])(o,i,c,!1,null,"38bc094c",null),d=u.exports,g={name:"TableInList",components:{VPagination:d},data:function(){return{currentPage:1,size:5,keyword:""}},props:{totalPage:Number,pageSize:Number,headerColumns:{type:Array,required:!1}},created:function(){this.size=this.pageSize},methods:{goToPage:function(e){this.currentPage=e,this.$emit("go-to-page",e)},search:function(){this.currentPage=1,this.$emit("search",this.keyword,this.size)},clear:function(){this.keyword=null,this.size=this.pageSize,this.search()},onChange:function(e){this.size=e.target.value,this.search()}}},f=g,p=(a("acdd"),Object(l["a"])(f,n,s,!1,null,"f6daca98",null));t["a"]=p.exports},afa6:function(e,t,a){"use strict";a("1031")},c59d:function(e,t,a){"use strict";a("78b7")},d707:function(e,t,a){"use strict";a("0ce5")},df6c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d3b7");function n(e,t,a){return fetch(e,t).catch((function(s){if(1===a)throw s;return n(e,t,a-1)}))}},dfbf:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("5530"),s=(a("d3b7"),a("99af"),a("a078")),i=a("57c3"),c=a("40d9"),r=a("bb4d"),o=a("df6c"),l={getAll:u,create:d,update:b,getById:f,remove:g,changeAvatar:y,createNote:k,createTag:v,removeNote:C,removeTag:m,loadAllObject:h,loadContacts:p};function u(e){return fetch("".concat(s["d"].apiUrl,"/accounts?").concat(Object(s["c"])(e)),i["a"].get()).then(c["a"]).then((function(e){return e}),(function(t){if("retry"==t)return Object(o["a"])("".concat(s["d"].apiUrl,"/accounts?").concat(Object(s["c"])(e)),i["a"].get(),2).then(c["a"])}))}function d(e){return fetch("".concat(s["d"].apiUrl,"/accounts"),i["a"].post(e)).then(c["a"])}function g(e){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(e),i["a"].delete()).then(c["a"])}function f(e){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(e),i["a"].get()).then(c["a"]).then((function(e){return e}),(function(t){if("retry"==t)return Object(o["a"])("".concat(s["d"].apiUrl,"/accounts/").concat(e),i["a"].get(),2).then(c["a"])}))}function p(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(t,"/contacts?").concat(Object(s["c"])(e)),i["a"].get()).then(c["a"]).then((function(e){return e}),(function(a){if("retry"==a)return Object(o["a"])("".concat(s["d"].apiUrl,"/accounts/").concat(t,"/contacts?").concat(Object(s["c"])(e)),i["a"].get(),2).then(c["a"])}))}function h(){return fetch("".concat(s["d"].apiUrl,"/accounts/prepare"),i["a"].get()).then(c["a"]).then((function(e){return e}),(function(e){if("retry"==e)return Object(o["a"])("".concat(s["d"].apiUrl,"/accounts/prepare"),i["a"].get(),2).then(c["a"])}))}function b(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(t),i["a"].post(e)).then(c["a"])}function y(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(t,"/change_avatar"),Object(n["a"])(Object(n["a"])({method:"POST"},P()),{},{body:e})).then(c["a"])}function k(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(t,"/notes"),Object(n["a"])(Object(n["a"])({method:"POST"},P()),{},{body:e})).then(c["a"])}function v(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(t,"/tags"),i["a"].post(e)).then(c["a"])}function C(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(e,"/notes/").concat(t),i["a"].delete()).then(c["a"])}function m(e,t){return fetch("".concat(s["d"].apiUrl,"/accounts/").concat(e,"/tags/").concat(t),i["a"].delete()).then(c["a"])}function P(){var e=r["a"].currentUserValue||{},t=e.jwt?{Authorization:e.jwt}:{};return{headers:Object(n["a"])({},t)}}},e118:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticClass:"loading"},[e._m(0)]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-facebook"},[a("div"),a("div"),a("div")])}],i={name:"VLoading",props:{loading:Boolean}},c=i,r=(a("afa6"),a("2877")),o=Object(r["a"])(c,n,s,!1,null,"52be6f57",null);t["a"]=o.exports},ee35:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACMSURBVHgB7dJbDYUwEATQ6c0VgAQk4ICgAAlgBSVYwQIOwAEOluGXV2iySSGZ87NJ0/cOICKSWHgyycxqlgIOQggdYvECvTnZ7/2DJHYZQrYrZynhY2D45qgVvEBrfpqrc5KH8K4FGUsGHwtbsOCNDj/Al3sFb3v1iFjmp39yXvIQ/k/GKviYICLyBSuf0/lJwVt1hwAAAABJRU5ErkJggg=="},f843:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background-main"},[a("div",{staticClass:"col-sm-10 mx-auto mt-5"},[a("VLoading",{attrs:{loading:e.loading}}),a("TableInList",{attrs:{"header-columns":e.columns,"page-size":e.pageSize,"total-page":e.totalPage},on:{"go-to-page":e.goToPage,search:e.search}},[a("template",{slot:"button"},[a("router-link",{attrs:{to:"/accounts/create"}},[a("VButton",{attrs:{data:e.btnCreate}})],1)],1),a("template",{slot:"body"},[e.accounts&&0!==e.accounts.length?e._e():a("tbody",[a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e._v("Không có dữ liệu")])])]),e.accounts&&e.accounts.length>0?a("tbody",e._l(e.accounts,(function(t,n){return a("tr",{key:n},[a("th",[a("img",{staticStyle:{width:"60px",height:"60px","border-radius":"50%"},attrs:{src:t.avatar}})]),a("th",[e._v(" "+e._s(t.name)+" ")]),a("th",[e._v(e._s(t.phone))]),a("th",[e._v(e._s(t.website))]),a("th",[e._v(e._s(t.owner))]),a("th",[a("span",{staticClass:"action"},[a("span",{staticClass:"mr-1",on:{click:function(a){return e.editItem(t.id)}}},[a("img",{attrs:{src:"images/newspaper-line.png",alt:""}})]),a("span",{on:{click:function(a){return e.deleteItem(t.id)}}},[a("img",{attrs:{src:"images/delete-bin-2-line.png",alt:""}})])])])])})),0):e._e()])],2)],1)])},s=[],i=(a("d3b7"),a("a9e3"),a("add3")),c=a("dfbf"),r=a("e118"),o=a("a179"),l={name:"AccountList",components:{VButton:o["a"],VLoading:r["a"],TableInList:i["a"]},methods:{editItem:function(e){this.$router.push({path:"/accounts/detail",query:{id:e}})},deleteItem:function(e){var t=this;confirm("Xác nhận xóa!")&&(this.loading=!0,c["a"].remove(e).then((function(e){e&&(alert("Xóa thành công!"),t.loadAccounts(t.keyword))})).finally((function(){t.loading=!1})))},goToPage:function(e){this.currentPage=e,this.loadAccounts(this.keyword)},search:function(e,t){this.currentPage=1,this.pageSize=Number(t),this.loadAccounts(e)},loadAccounts:function(e){var t=this;this.accounts=[],this.loading=!0,this.keyword=e;var a={currentPage:this.currentPage,pageSize:this.pageSize};e&&(a["query"]=this.keyword),c["a"].getAll(a).then((function(e){e&&e.data&&(t.accounts=e.data.accounts,t.totalPage=Number(e.data.pageInfo.TotalPages))})).finally((function(){t.loading=!1}))}},created:function(){this.loadAccounts(null)},data:function(){return{accounts:Array,currentPage:1,pageSize:10,totalPage:0,keyword:"",loading:!1,columns:[{text:"Avatar",style:"width: 5%;"},{text:"Account Name",style:"width: 20%;"},{text:"Phone",style:"width: 15%;"},{text:"Website",style:"width: 15%"},{text:"Account Owner",style:"width: 15%;"},{text:"Action",style:"width: 10%;"}],btnCreate:{btnClass:"btn-red px-4",icon:"fa-plus",text:"Create Account"}}}},u=l,d=(a("d707"),a("2877")),g=Object(d["a"])(u,n,s,!1,null,"56eded06",null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-ee52b514.081bf5cd.js.map