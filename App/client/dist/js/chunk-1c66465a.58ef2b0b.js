(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c66465a"],{1031:function(t,e,n){},1206:function(t,e,n){"use strict";n("2eb1")},"2eb1":function(t,e,n){},7082:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("5530"),c=(n("d3b7"),n("99af"),n("a078")),r=n("57c3"),o=n("40d9"),s=n("bb4d"),i=n("df6c"),u={getAll:f,create:l,update:d,getById:h,changePassword:p,remove:v,getAllTasks:g,getAllLeads:b,getAllAccounts:m,getAllContacts:y,changeAvatar:O};function l(t){return fetch("".concat(c["d"].apiUrl,"/users"),r["a"].post(t)).then(o["a"])}function d(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(e),r["a"].post(t)).then(o["a"])}function f(t){return fetch("".concat(c["d"].apiUrl,"/users?").concat(Object(c["c"])(t)),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(e){if("retry"==e)return Object(i["a"])("".concat(c["d"].apiUrl,"/users?").concat(Object(c["c"])(t)),r["a"].get(),2).then(o["a"])}))}function h(t){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(e){if("retry"==e)return Object(i["a"])("".concat(c["d"].apiUrl,"/accounts/").concat(t),r["a"].get(),2).then(o["a"])}))}function p(t,e,n){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t,"/change_password"),r["a"].post({oldPassword:e,newPassword:n})).then(o["a"])}function v(t){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t),r["a"].delete()).then(o["a"])}function g(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t,"/tasks?").concat(Object(c["c"])(e)),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(n){if("retry"==n)return Object(i["a"])("".concat(c["d"].apiUrl,"/users/").concat(t,"/tasks?").concat(Object(c["c"])(e)),r["a"].get(),2).then(o["a"])}))}function b(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t,"/leads?").concat(Object(c["c"])(e)),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(n){if("retry"==n)return Object(i["a"])("".concat(c["d"].apiUrl,"/users/").concat(t,"/leads?").concat(Object(c["c"])(e)),r["a"].get(),2).then(o["a"])}))}function m(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t,"/accounts?").concat(Object(c["c"])(e)),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(n){if("retry"==n)return Object(i["a"])("".concat(c["d"].apiUrl,"/users/").concat(t,"/accounts?").concat(Object(c["c"])(e)),r["a"].get(),2).then(o["a"])}))}function y(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(t,"/contacts?").concat(Object(c["c"])(e)),r["a"].get()).then(o["a"]).then((function(t){return t}),(function(n){if("retry"==n)return Object(i["a"])("".concat(c["d"].apiUrl,"/users/").concat(t,"/contacts?").concat(Object(c["c"])(e)),r["a"].get(),2).then(o["a"])}))}function O(t,e){return fetch("".concat(c["d"].apiUrl,"/users/").concat(e,"/change_avatar"),Object(a["a"])(Object(a["a"])({method:"POST"},j()),{},{body:t})).then(o["a"])}function j(){var t=s["a"].currentUserValue||{},e=t.jwt?{Authorization:t.jwt}:{};return{headers:Object(a["a"])({},e)}}},"99af":function(t,e,n){"use strict";var a=n("23e7"),c=n("d039"),r=n("e8b5"),o=n("861d"),s=n("7b0b"),i=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),h=n("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=h>=51||!c((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=d("concat"),y=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},O=!b||!m;a({target:"Array",proto:!0,forced:O},{concat:function(t){var e,n,a,c,r,o=s(this),d=l(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?o:arguments[e],y(r)){if(c=i(r.length),f+c>v)throw TypeError(g);for(n=0;n<c;n++,f++)n in r&&u(d,f,r[n])}else{if(f>=v)throw TypeError(g);u(d,f++,r)}return d.length=f,d}})},afa6:function(t,e,n){"use strict";n("1031")},defb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"dayspan"}},[n("VLoading",{attrs:{loading:t.loading}}),n("ds-calendar-app",{ref:"app",attrs:{calendar:t.calendar,"read-only":!0},scopedSlots:t._u([{key:"eventPopover",fn:function(e){return[n("ds-calendar-event-popover",t._b({attrs:{"read-only":t.readOnly}},"ds-calendar-event-popover",e,!1))]}},{key:"eventTimeTitle",fn:function(e){var a=e.calendarEvent,c=e.details;return[n("div",[c.icon?n("v-icon",{staticClass:"ds-ev-icon",style:{color:c.forecolor},attrs:{size:"14"}},[t._v(" "+t._s(c.icon)+" ")]):t._e(),n("strong",{staticClass:"ds-ev-title"},[t._v(t._s(c.title))])],1),n("div",{staticClass:"ds-ev-description"},[t._v(t._s(t.getCalendarTime(a)))])]}}])},[n("template",{slot:"title"},[t._v(" DaySpan ")]),n("template",{slot:"menuRight"},[n("v-btn",{attrs:{icon:"",large:"",href:"https://github.com/ClickerMonkey/dayspan-vuetify",target:"_blank"}},[n("v-avatar",{attrs:{size:"32px",tile:""}},[n("img",{attrs:{src:"https://simpleicons.org/icons/github.svg",alt:"Github"}})])],1)],1)],2)],1)},c=[],r=(n("d3b7"),n("159b"),n("9abd")),o=n("2b0e"),s=n("e118"),i=n("7082"),u=n("55b4"),l={name:"Calendar",components:{VLoading:s["a"]},data:function(){return{storeKey:"dayspanState",calendar:r["Calendar"].months(),readOnly:!0,loading:!0,defaultEvents:[],currentUser:null,tasks:[]}},created:function(){var t=localStorage.getItem("currentUser");this.currentUser=t?JSON.parse(t):null,this.loadTasks()},mounted:function(){window.app=this.$refs.app},methods:{loadTasks:function(){var t=this;this.tasks=[],this.loading=!0;var e={currentPage:1,pageSize:100};i["a"].getAllTasks(this.currentUser.id,e).then((function(e){e&&e.data&&(t.tasks=e.data.tasks,t.tasks.forEach((function(e){if(e.rrule){var n=u["a"].fromString(e.rrule);if(n){var a=n.all();a&&a.length>0&&a.forEach((function(n){n=new Date(n),t.defaultEvents.push({data:{title:e.title,color:"#3F51B5"},schedule:{on:r["Day"].fromDate(n),times:[new r["Time"](n.getHours(),n.getMinutes(),n.getSeconds())]}})}))}}})),t.loadState())})).finally((function(){t.loading=!1}))},getCalendarTime:function(t){var e=t.start.format("a"),n=t.end.format("a"),a=t.start.format("h"),c=t.end.format("h");return 0!==t.start.minute&&(a+=t.start.format(":mm")),0!==t.end.minute&&(c+=t.end.format(":mm")),e===n?a+" - "+c+n:a+e+" - "+c+n},loadState:function(){var t=this,e={};e.events&&e.events.length||(e.events=this.defaultEvents),e.events.forEach((function(e){var n=t.$dayspan.getDefaultEventDetails();e.data=o["default"].util.extend(n,e.data)})),this.$refs.app.setState(e)}}},d=l,f=(n("1206"),n("2877")),h=Object(f["a"])(d,a,c,!1,null,null,null);e["default"]=h.exports},df6c:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d3b7");function a(t,e,n){return fetch(t,e).catch((function(c){if(1===n)throw c;return a(t,e,n-1)}))}},e118:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"loading"},[t._m(0)]):t._e()])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lds-facebook"},[n("div"),n("div"),n("div")])}],r={name:"VLoading",props:{loading:Boolean}},o=r,s=(n("afa6"),n("2877")),i=Object(s["a"])(o,a,c,!1,null,"52be6f57",null);e["a"]=i.exports}}]);
//# sourceMappingURL=chunk-1c66465a.58ef2b0b.js.map